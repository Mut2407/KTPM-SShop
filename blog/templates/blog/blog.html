{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
  <h1 class="text-center mb-5 display-5 text-uppercase">📝 Blog mới nhất</h1>

  {% for post in posts %}
    <div class="row justify-content-center mb-5">
      <div class="col-lg-10">
        <div class="d-flex flex-column flex-md-row align-items-start gap-4 p-4 bg-light rounded-4 shadow-sm border">
          
          {% if post.image %}
            <div style="flex-shrink: 0;">
              <img src="{{ post.image.url }}" alt="{{ post.title }}" class="rounded" style="width: 200px; height: auto; object-fit: cover;">
            </div>
          {% endif %}

          <div class="flex-grow-1">
            <h2 class="fw-bold text-dark mb-3" style="font-size: 3rem;">👉 {{ post.title }}</h2>
            <p class="text-muted mb-2" style="font-size: 1.5rem;"><small>🕒 {{ post.created_at|date:"d/m/Y H:i" }}</small></p>
            <p class="fs-5" style="line-height: 1.5; font-size: 1.5rem;">{{ post.content|truncatewords:40 }}</p>
            {% if post.slug %}
              <a href="{% url 'blog:blog_details' post.slug %}" class="btn btn-primary btn-sm mt-2">Đọc thêm</a>
            {% else %}
            {% endif %}
          </div>
          <br><hr><br>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-center fs-4 text-muted">Không có bài viết nào.</p>
  {% endfor %}
</div>
{% endblock %}
